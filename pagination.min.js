(function(b){b.fn.rpmPagination=function(d){var a=b.extend({limit:10,total:0,currentPage:1,domElement:".p-item",refresh:!1,link:null,formElement:null},d);let e=b(this),f=1,c=a.limit,g=a.total,m=!1;d=a.domElement;let h="p-"+Math.random().toString(36).substr(2,6);0>=g&&(m=!0);b(d).each(function(a,c){m&&(g=a+1);b(c).addClass(h);b(c).addClass(h+"-"+parseInt(a+1))});g>a.limit&&(f=parseInt(g/a.limit+1));p(a.currentPage,f,e);[a.currentPage,c]=n(a.currentPage,c,a.limit,h,"page-num");a.refresh&&0<b("."+h).length&&
b("."+h).removeClass("hide");b(document).on("click",".page-num > a",function(d){d.preventDefault();if(b(this).parent().hasClass("disabled")||0===b(this).parent(e).length)return!1;if(!0===a.refresh){var g=b(this),k=a.currentPage;d=a.limit;var m=a.link,l=a.formElement;g.parent().hasClass("prev")?g=d*(k-2):g.parent().hasClass("next")?g=d*k:(g=g.data("page_no"),k=parseInt(g),g=d*(k-1));null===l||""===l||0>=b(l).length?(k="?",m.includes("?")&&(k="&"),window.location.href=m+k+"limit="+d+"&offset="+g):l=
b(l);l.append(b("<input />").attr("type","hidden").attr("name","limit").attr("value",d));l.append(b("<input />").attr("type","hidden").attr("name","offset").attr("value",g)).submit()}else b(this).parent().hasClass("prev")?[a.currentPage,c]=n(a.currentPage,c,a.limit,h,"prev"):b(this).parent().hasClass("next")?[a.currentPage,c]=n(a.currentPage,c,a.limit,h,"next"):(d=b(this).data("page_no"),a.currentPage=parseInt(d),[a.currentPage,c]=n(a.currentPage,c,a.limit,h,"page-num"));p(a.currentPage,f,e)});return!0};
var n=function(d,a,e,f,c){b("."+f).addClass("hide");if("prev"===c){a-=e;c=a-e+1;for(e=c;e<=a;e++)b("."+f+"-"+e).removeClass("hide");d--}else if("next"===c){c=a+1;a+=e;for(e=c;e<=a;e++)b("."+f+"-"+e).removeClass("hide");d++}else if("page-num"===c)for(c=e*(d-1)+1,a=e*(d-1)+e,e=c;e<=a;e++)b("."+f+"-"+e).removeClass("hide");return[d,a]},p=function(d,a,e){b(e).html("");let f=[];--a;var c;if(3>Math.abs(d-1))f=[1,2,3,4,"...",a];else if(3>Math.abs(d-a))f=[1,"...",a-3,a-2,a-1,a];else if(6>=a)for(c=1;c<=a;c++)f.push(c);
else f=[1,"...",d-1,d,d+1,"...",a];c='<li class="page-num prev '+(1===d?"disabled":"")+'"><a href="#">prev</a></li>';for(let b=0;b<f.length&&!(a<=b);b++)c="..."===f[b]?c+'<li class="page-num page-inf disabled"><a data-page_no="..." href="#">...</a></li>':c+('<li class="page-num page-'+f[b]+" "+(f[b]===d?"disabled":"")+'"><a data-page_no="'+f[b]+'" href="#">'+f[b]+"</a></li>");c+='<li class="page-num next '+(d===a?"disabled":"")+'"><a href="#">next</a></li>';b(e).append(c);return!0}})(jQuery);